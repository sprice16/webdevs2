<!DOCTYPE html>
<html>
  <head>
    <title> Lane Tech CTA Bus Tracker V2</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="./manifest.json">
    <meta charset=utf-8>
     <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Relaxation App">
  <link rel="apple-touch-icon" href="images/shermar.jpg">
    <!-- Material Design Lite -->
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <!-- Material Design icon font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <style>
        
        .screen {
            display:none;
        }
        #nav {
          background-color:#ffd700;
        }
        #space {
          background-color:#ffd700;
        }
        h1 {
          text-align: center;
          vertical-align: middle;
          line-height: 90px;  
          
        }
        #title {
    background-color:#FFDF00;
    color:#21421e;
    text-align: center;
  }
        .color {
          background-color:#D60000;
        }
        .colortwo {
          background-color:#21421e;
        }
        #text {
          color:#21421e;
        }
      
    body {
      background-color:#ffffff ; 
    }
    #westernprediction {
    color:#FFDF00;
    background-color: #21421e;
    border-style: solid;
    font-size: 35px;
    height: 100%;
  }
  #kedzieprediction {
    color:#FFDF00;
    background-color: #21421e;
    border-style: solid;
    font-size: 35px;
    height: 100%;
  }
  #addisonprediction {
    color:#FFDF00;
    background-color: #21421e;
    border-style: solid;
    font-size: 35px;
    height: 100%;
  }
  #btnwestern {
    background-color:#21421e;
    border-color:#FFDF00;
  }
  #btnaddison {
    background-color:#21421e;
    border-color:#FFDF00;
  }
  #btnkedziecali {
    background-color:#21421e;
    border-color:#FFDF00;
  }
  
    </style>
  </head>
  <body>
    <!-- Always shows a header, even in smaller screens. -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="colortwo mdl-layout__header">
        <div id="space" class="mdl-layout__header-row">
          <!-- Title -->
          <span id="text" class="mdl-layout-title"> Lane Tech CTA Bus Tracker </span>
          <!-- Add spacer, to align navigation to the right -->
          <div class=" color mdl-layout-spacer"></div>
          <!-- Navigation. We hide it in small screens. -->
          <nav id="nav" class=" color mdl-navigation mdl-layout--large-screen-only">
            <a id="link2screen1" class="mdl-navigation__link" href="#"> LT</a>
            <a id="link2screen2" class="mdl-navigation__link" href="#"> Screen 2</a>
            <a id="link2screen3" class="mdl-navigation__link" href="#"> Screen 3</a>
          </nav>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title"> Lane Tech CTA Bus Tracker </span>
        <nav class="mdl-navigation">
          <a id="linkscreen1" class="mdl-navigation__link" href="#"> LT </a>
          <a id="linkscreen2" class="mdl-navigation__link" href="#"> Screen 2</a>
          <a id="linkscreen3" class="mdl-navigation__link" href="#"> Screen 3</a>
        </nav>
      </div>
      <main class="mdl-layout__content">
        <div id="screen1" class="screen page-content">
         <h1 id="title"> Lane Tech CTA Bus Tracker App</h1>
<hr>
<div class="container">
  <h2>Addison and Western Bus Stops</h2>
  <p>Use the Lane Tech CTA Bus Tracker App to get home easier and faster. This app finds the times for the bus stops near Lane Tech (Addison and Western bus stops). Click the Western button for Northbound and Southbound buses. Click the Addison button for Eastbound and Westbound buses</p>
  <div class="btn-group btn-group-justified">
    <a href="#" class="btn btn-primary" id="btnwestern">Western</a>
    <a href="#" class="btn btn-primary" id="btnaddison">Addison</a>
    <a href="#" class="btn btn-primary" id="btnkedziecali"> Kedzie/Californa</a>
  </div>
</div>
 <div class="results" id="westernnorthbound"></div>
 <br>
 <div class="results" id="westernsouthbound"></div>
 <div class="results" id="addisonwestbound"></div>
 <br>
 <div class="results" id="addisoneastbound"></div>
 <div class="results" id="kedziesouthbound"></div>
 <hr>
 <footer>
  Shermar Price
 </footer>
  </div>

    
        <div id="screen2" class=" screen page-content">
        
        </div>
        <div id="screen3" class=" screen page-content">


        </div>
      </main>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
      <script>
          $(function() {
        
              $("#linkscreen1").on("click", function() {
                  $(".screen").hide();
                  $("#screen1").show();
              });
              $("#link2screen1").on("click", function() {
                  $(".screen").hide();
                  $("#screen1").show();
              });
              $("#linkscreen2").on("click", function() {
                  $(".screen").hide();
                  $("#screen2").show();
              });
              $("#link2screen2").on("click", function() {
                  $(".screen").hide();
                  $("#screen2").show();
              });
              $("#linkscreen3").on("click", function() {
                  $(".screen").hide();
                  $("#screen3").show();
              });
              $("#link2screen3").on("click", function() {
                  $(".screen").hide();
                  $("#screen3").show();
              });
          });
           $(function() {
          
          
          var apiPassThruUrl = "https://polar-garden-75406.herokuapp.com/apiPassThru.php";
          
          var apiEndpoint = "http://ctabustracker.com/bustime/api/v2/getpredictions";
          
          $("#btnwestern").on("click", function() {
          
          $(".results").html("");
          $.ajax({
              url: apiPassThruUrl,
              dataType: "json",
              method: 'GET',
              data: {"apiEndpoint": apiEndpoint,
                      "key" : "7nkaa8LTAZQr39SyzNvScQtzS",
                      "rt" : "49,X49" ,
                      "stpid" : "8417" ,
                      "format":"json"}
            }).done (function (data) {
              console.log(data);
              
              $.each(data["bustime-response"]["prd"], 
                        function (index, value) {
                          var westerntimes= "<div id=westernprediction>"+ "Route:" + value.rt + " Western" + "<br>" + "<br>"+ "To " + value.des + "<br>" +"<br>" + value.prdctdn +" Minutes" + "<br>" +"<br>" +value.rtdir + "</div>"  ; 
                             $("#westernnorthbound").append(westerntimes);
                             
                        }
                    );
                   
                    
              
            });
            $.ajax({
              url: apiPassThruUrl,
              dataType: "json",
              method: 'GET',
              data: {"apiEndpoint": apiEndpoint,
                      "key" : "7nkaa8LTAZQr39SyzNvScQtzS",
                      "rt" : "49,X49" ,
                      "stpid" : "8195" ,
                      "format":"json"}
            }).done (function (data) {
              console.log(data);
              
              $.each(data["bustime-response"]["prd"], 
                        function (index, value) {
                          var westerntimes= "<div id=westernprediction>"+ "Route:" + value.rt + " Western" + "<br>" +"<br>" + "To " + value.des + "<br>" +"<br>" + value.prdctdn +" Minutes" + "<br>" +"<br>" + value.rtdir + "</div>"  ; 
                             $("#westernsouthbound").append(westerntimes);
                             
                        }
                    );
                   
                    
              
            });

            });
          
          $("#btnaddison").on("click", function() {
          $(".results").html("")
          
          $.ajax({
              url: apiPassThruUrl,
              dataType: "json",
              method: 'GET',
              data: {"apiEndpoint": apiEndpoint,
                      "key" : "7nkaa8LTAZQr39SyzNvScQtzS",
                      "rt" : "152",
                      "stpid" : "12527" ,
                      "format":"json" }
            }).done (function (data) {
              console.log(data);
                
                $.each(data["bustime-response"]["prd"], 
                        function (index, value) {
                            
                           var addisontimes= "<div id=addisonprediction>"+ "Route:" + value.rt + " Addison" + "<br>" +"<br>" + "To " + value.des + "<br>" +"<br>" + value.prdctdn +" Minutes" + "<br>" +"<br>" + value.rtdir + "</div>"  ; 
                            
                            $("#addisoneastbound").append(addisontimes);
                        }
                    );
            });
            $.ajax({
              url: apiPassThruUrl,
              dataType: "json",
              method: 'GET',
              data: {"apiEndpoint": apiEndpoint,
                      "key" : "7nkaa8LTAZQr39SyzNvScQtzS",
                      "rt" : "152",
                      "stpid" : "12569" ,
                      "format":"json" }
            }).done (function (data) {
              console.log(data);
                
                $.each(data["bustime-response"]["prd"], 
                        function (index, value) {
                            
                           var addisontimes= "<div id=addisonprediction>"+ "Route:" + value.rt + " Addison" + "<br>" + "<br>" +"To " + value.des + "<br>" +"<br>" + value.prdctdn +" Minutes" + "<br>" +"<br>" + value.rtdir + "</div>"  ; 
                            
                            $("#addisonwestbound").append(addisontimes);
                        }
                    );
            });
            $("#btnkedziecali").on("click", function() {
          $(".results").html("")
            $.ajax({
              url: apiPassThruUrl,
              dataType: "json",
              method: 'GET',
              data: {"apiEndpoint": apiEndpoint,
                      "key" : "7nkaa8LTAZQr39SyzNvScQtzS",
                      "rt" : "52",
                      "stpid" : "17786" ,
                      "format":"json" }
            }).done (function (data) {
              console.log(data);
                
                $.each(data["bustime-response"]["prd"], 
                        function (index, value) {
                            
                           var kedzietimes= "<div id=kedzieprediction>"+ "Route:" + value.rt + "Kedzie/Californa" + "<br>" + "<br>" +"To " + value.des + "<br>" +"<br>" + value.prdctdn +" Minutes" + "<br>" +"<br>" + value.rtdir + "</div>"  ; 
                            
                            $("#kedziesouthbound").append(kedzietimes);
                        }
                    );
            });
              
            });
            });
            
        });
      </script>
    </div>
  </body>
  <script>
  if ('serviceWorker' in navigator) {
    console.log("Will the service worker register?");
    navigator.serviceWorker.register('service-worker.js')
      .then(function(reg){
        console.log("Yes, it did.");
      }).catch(function(err) {
        console.log("No it didn't. This happened: ", err);
      });
  }
</script>
</html>